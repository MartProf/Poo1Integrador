<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.Cursor?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="800.0" prefWidth="1400.0" style="-fx-background-color: #F8F9FA;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.controlador.DashboardController">

    <!-- HEADER: Barra de navegación modernizada -->
    <top>
        <VBox style="-fx-background: linear-gradient(to bottom, #1a252f, #2c3e50); -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);">
            <children>
                <!-- Barra principal de navegación -->
                <HBox alignment="CENTER_LEFT" spacing="30.0" style="-fx-padding: 18 25; -fx-border-color: #34495e; -fx-border-width: 0 0 1 0;">
                    <children>
                        <!-- Logo y título del sistema -->
                        <HBox alignment="CENTER" spacing="15.0">
                            <children>
                                <ImageView fitHeight="35.0" fitWidth="35.0" preserveRatio="true">
                                    <image>
                                        <Image url="@../../../../../resources/icons/logo-municipio.png" />
                                    </image>
                                </ImageView>
                                <VBox alignment="CENTER_LEFT">
                                    <children>
                                        <Label text="Sistema Municipal" textFill="#FFFFFF">
                                            <font>
                                                <Font name="Segoe UI Bold" size="18.0" />
                                            </font>
                                        </Label>
                                        <Label text="Gestión de Eventos" textFill="#95A5A6">
                                            <font>
                                                <Font name="Segoe UI" size="12.0" />
                                            </font>
                                        </Label>
                                    </children>
                                </VBox>
                            </children>
                        </HBox>

                        <!-- Botones de navegación -->
                        <HBox spacing="12.0">
                            <children>
                                <Button fx:id="btnEventosDisponibles" onAction="#handleEventosDisponibles" prefHeight="42.0" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-background-radius: 8; -fx-border-radius: 8; -fx-font-size: 14; -fx-padding: 10 18; -fx-effect: dropshadow(gaussian, rgba(52, 152, 219, 0.4), 5, 0, 0, 2);" text="📅 Eventos Disponibles">
                                    <font>
                                        <Font name="Segoe UI Semibold" size="14.0" />
                                    </font>
                                    <cursor>
                                        <Cursor fx:constant="HAND" />
                                    </cursor>
                                </Button>
                                <Button fx:id="btnMisEventos" onAction="#handleMisEventos" prefHeight="42.0" style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-background-radius: 8; -fx-border-radius: 8; -fx-font-size: 14; -fx-padding: 10 18; -fx-effect: dropshadow(gaussian, rgba(230, 126, 34, 0.4), 5, 0, 0, 2);" text="🎯 Gestión de Eventos">
                                    <font>
                                        <Font name="Segoe UI Semibold" size="14.0" />
                                    </font>
                                    <cursor>
                                        <Cursor fx:constant="HAND" />
                                    </cursor>
                                </Button>
                                <Button fx:id="btnNuevoEvento" onAction="#handleNuevoEvento" prefHeight="42.0" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-background-radius: 8; -fx-border-radius: 8; -fx-font-size: 14; -fx-padding: 10 18; -fx-effect: dropshadow(gaussian, rgba(39, 174, 96, 0.4), 5, 0, 0, 2);" text="➕ Nuevo Evento">
                                    <font>
                                        <Font name="Segoe UI Semibold" size="14.0" />
                                    </font>
                                    <cursor>
                                        <Cursor fx:constant="HAND" />
                                    </cursor>
                                </Button>
                            </children>
                        </HBox>

                        <!-- Spacer -->
                        <Pane HBox.hgrow="ALWAYS" />

                        <!-- Sección de usuario -->
                        <HBox alignment="CENTER" spacing="15.0">
                            <children>
                                <!-- Información del usuario -->
                                <HBox alignment="CENTER" spacing="10.0" style="-fx-background-color: rgba(255,255,255,0.1); -fx-background-radius: 8; -fx-padding: 8 12;">
                                    <children>
                                        <Label text="👤" textFill="#3498DB">
                                            <font>
                                                <Font name="Segoe UI" size="16.0" />
                                            </font>
                                        </Label>
                                        <VBox alignment="CENTER_LEFT">
                                            <children>
                                                <Label fx:id="lblUsuario" text="Usuario" textFill="#FFFFFF">
                                                    <font>
                                                        <Font name="Segoe UI Semibold" size="14.0" />
                                                    </font>
                                                </Label>
                                                <Label text="Empleado Municipal" textFill="#95A5A6">
                                                    <font>
                                                        <Font name="Segoe UI" size="11.0" />
                                                    </font>
                                                </Label>
                                            </children>
                                        </VBox>
                                    </children>
                                </HBox>
                                
                                <!-- Botón Perfil -->
                                <Button fx:id="btnPerfil" onAction="#handlePerfil" prefHeight="36.0" style="-fx-background-color: #8e44ad; -fx-text-fill: white; -fx-background-radius: 6; -fx-border-radius: 6; -fx-font-size: 13; -fx-padding: 8 14;" text="⚙️ Perfil">
                                    <font>
                                        <Font name="Segoe UI" size="13.0" />
                                    </font>
                                    <cursor>
                                        <Cursor fx:constant="HAND" />
                                    </cursor>
                                </Button>

                                <!-- Botón Cerrar Sesión -->
                                <Button fx:id="btnCerrarSesion" onAction="#handleCerrarSesion" prefHeight="36.0" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-background-radius: 6; -fx-border-radius: 6; -fx-font-size: 13; -fx-padding: 8 14;" text="🚪 Cerrar Sesión">
                                    <font>
                                        <Font name="Segoe UI" size="13.0" />
                                    </font>
                                    <cursor>
                                        <Cursor fx:constant="HAND" />
                                    </cursor>
                                </Button>
                            </children>
                        </HBox>
                    </children>
                </HBox>
            </children>
        </VBox>
    </top>

    <!-- CONTENIDO CENTRAL -->
    <center>
        <StackPane fx:id="contentPane" style="-fx-background-color: #F8F9FA; -fx-padding: 20;">
            <!-- El contenido dinámico se carga aquí -->
        </StackPane>
    </center>

</BorderPane>
