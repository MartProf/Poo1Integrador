<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.Cursor?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="500.0" prefWidth="600.0" style="-fx-background-color: white; -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 15, 0, 0, 5);" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.controlador.AgregarPeliculasModalController">
    
    <!-- HEADER -->
    <top>
        <VBox style="-fx-background: linear-gradient(to bottom, #2c3e50, #34495e); -fx-background-radius: 15 15 0 0; -fx-padding: 20;">
            <children>
                <Label text="🎬 Agregar Películas al Ciclo" textFill="WHITE">
                    <font>
                        <Font name="Segoe UI Bold" size="20.0" />
                    </font>
                </Label>
                <Label text="Complete los datos de las películas que formarán parte del ciclo de cine" textFill="#BDC3C7">
                    <font>
                        <Font name="Segoe UI" size="13.0" />
                    </font>
                </Label>
            </children>
        </VBox>
    </top>
    
    <!-- CONTENIDO PRINCIPAL -->
    <center>
        <VBox spacing="20.0" style="-fx-padding: 25;">
            
            <!-- Formulario para agregar película -->
            <VBox spacing="15.0" style="-fx-background-color: #F8F9FA; -fx-background-radius: 10; -fx-padding: 20; -fx-border-color: #E9ECEF; -fx-border-radius: 10; -fx-border-width: 1;">
                <children>
                    <Label text="Nueva Película" textFill="#2C3E50">
                        <font>
                            <Font name="Segoe UI Bold" size="16.0" />
                        </font>
                    </Label>
                    
                    <HBox spacing="15.0">
                        <children>
                            <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                <children>
                                    <Label text="Título de la Película *" textFill="#34495E">
                                        <font>
                                            <Font name="Segoe UI Semibold" size="13.0" />
                                        </font>
                                    </Label>
                                    <TextField fx:id="tituloField" prefHeight="35.0" promptText="Ingrese el título de la película" style="-fx-background-color: white; -fx-border-color: #D1D5DB; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 8; -fx-font-family: 'Segoe UI'; -fx-font-size: 14;">
                                        <font>
                                            <Font name="Segoe UI" size="14.0" />
                                        </font>
                                    </TextField>
                                </children>
                            </VBox>
                            
                            <VBox spacing="8.0">
                                <children>
                                    <Label text="Orden en el Ciclo *" textFill="#34495E">
                                        <font>
                                            <Font name="Segoe UI Semibold" size="13.0" />
                                        </font>
                                    </Label>
                                    <TextField fx:id="ordenField" prefHeight="35.0" prefWidth="120.0" promptText="Ej: 1, 2, 3..." style="-fx-background-color: white; -fx-border-color: #D1D5DB; -fx-border-radius: 6; -fx-background-radius: 6; -fx-padding: 8; -fx-font-family: 'Segoe UI'; -fx-font-size: 14;">
                                        <font>
                                            <Font name="Segoe UI" size="14.0" />
                                        </font>
                                    </TextField>
                                </children>
                            </VBox>
                            
                            <VBox alignment="BOTTOM_CENTER">
                                <children>
                                    <Button onAction="#handleAgregarPelicula" prefHeight="35.0" prefWidth="100.0" style="-fx-background-color: linear-gradient(to bottom, #27AE60, #229954); -fx-text-fill: white; -fx-background-radius: 6; -fx-font-weight: bold; -fx-effect: dropshadow(gaussian, rgba(39, 174, 96, 0.3), 5, 0, 0, 2);" text="➕ Agregar">
                                        <font>
                                            <Font name="Segoe UI Bold" size="13.0" />
                                        </font>
                                        <cursor>
                                            <Cursor fx:constant="HAND" />
                                        </cursor>
                                    </Button>
                                </children>
                            </VBox>
                        </children>
                    </HBox>
                </children>
            </VBox>

            <!-- Lista de películas agregadas -->
            <VBox spacing="10.0">
                <children>
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <children>
                            <Label text="Películas del Ciclo" textFill="#2C3E50">
                                <font>
                                    <Font name="Segoe UI Bold" size="16.0" />
                                </font>
                            </Label>
                            <Region HBox.hgrow="ALWAYS" />
                            <Button onAction="#handleEliminarSeleccionada" prefHeight="32.0" style="-fx-background-color: linear-gradient(to bottom, #E74C3C, #C0392B); -fx-text-fill: white; -fx-background-radius: 6; -fx-font-weight: bold; -fx-effect: dropshadow(gaussian, rgba(231, 76, 60, 0.3), 5, 0, 0, 2);" text="🗑️ Eliminar">
                                <font>
                                    <Font name="Segoe UI Bold" size="12.0" />
                                </font>
                                <cursor>
                                    <Cursor fx:constant="HAND" />
                                </cursor>
                            </Button>
                        </children>
                    </HBox>
                    
                    <TableView fx:id="tablaPeliculas" prefHeight="200.0" style="-fx-background-color: white; -fx-border-color: #E9ECEF; -fx-border-radius: 8; -fx-background-radius: 8;">
                        <columns>
                            <TableColumn fx:id="colTitulo" prefWidth="400.0" style="-fx-alignment: CENTER-LEFT;" text="Título de la Película" />
                            <TableColumn fx:id="colOrden" prefWidth="150.0" style="-fx-alignment: CENTER;" text="Orden en Ciclo" />
                        </columns>
                    </TableView>
                </children>
            </VBox>

        </VBox>
    </center>

    <!-- FOOTER CON BOTONES -->
    <bottom>
        <HBox alignment="CENTER_RIGHT" spacing="15.0" style="-fx-background-color: #F8F9FA; -fx-background-radius: 0 0 15 15; -fx-padding: 20; -fx-border-color: #E9ECEF; -fx-border-width: 1 0 0 0;">
            <children>
                <Button onAction="#handleCancelar" prefHeight="40.0" prefWidth="100.0" style="-fx-background-color: transparent; -fx-text-fill: #7F8C8D; -fx-border-color: #D1D5DB; -fx-border-radius: 6; -fx-background-radius: 6; -fx-border-width: 1;" text="Cancelar">
                    <font>
                        <Font name="Segoe UI Semibold" size="14.0" />
                    </font>
                    <cursor>
                        <Cursor fx:constant="HAND" />
                    </cursor>
                </Button>
                <Button onAction="#handleAceptar" prefHeight="40.0" prefWidth="100.0" style="-fx-background-color: linear-gradient(to bottom, #3498DB, #2980B9); -fx-text-fill: white; -fx-background-radius: 6; -fx-font-weight: bold; -fx-effect: dropshadow(gaussian, rgba(52, 152, 219, 0.3), 8, 0, 0, 2);" text="Aceptar">
                    <font>
                        <Font name="Segoe UI Bold" size="14.0" />
                    </font>
                    <cursor>
                        <Cursor fx:constant="HAND" />
                    </cursor>
                </Button>
            </children>
        </HBox>
    </bottom>

</BorderPane>
